.powerade {
  position: relative;
  max-width: 100%;
  &::after {
    content: '';
    display: block;
    padding-bottom: 100%;
  }
  div, figure, img, figcaption, ul, li {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
    border: 0;
  }
  .visualization {
    display: grid;
    grid-template-columns: 90% auto;
    grid-template-rows: auto 90% auto;
    grid-template-areas:
      'y-header .'
      'map x-header'
      'z-legend .';
    position: absolute;
    width: 100%;
    height: 100%;
    .x-header {
      display: flex;
      grid-area: x-header;
      .x-label {
        word-break: break-all
      }
    }
    .y-header {
      display: flex;
      grid-area: y-header;
      .y-label {
        overflow: hidden;
        white-space: nowrap;
        text-overflow: ellipsis;
      }
    }
    .z-legend {
      display: flex;
      grid-area: z-legend;
      .z-label {
        overflow: hidden;
        white-space: nowrap;
        text-overflow: ellipsis;
      }
      .z-values {
        display: flex;
        max-height: 100%;
        .z-value {
          display: inline-block;
          width: 1rem;
          height: 1rem;
          border: 0;
        }
      }
    }
    .map {
      grid-area: map;
      display: grid;
      grid-row-gap: 0.2rem;
      grid-column-gap: 0.2rem;
      max-width: 100%;
      max-height: 100%;
      height: 100%;
      width: 100%;
      [data-drop-target] {
        display: grid;
        min-height: 0;
        min-width: 0;
        border: solid 0.05rem whitesmoke;
        &.drag-enter {
          border-color: dimgray;
          * {
            pointer-events: none;
          }
        }
        [draggable] {
          display: grid;
          min-height: 0;
          min-width: 0;
          overflow: hidden;
          figure {
            display: flex;
            flex-direction: column;
            position: relative;
            overflow: hidden;
            img {
              display: block;
              width: 100%;
              height: 100%;
              overflow: hidden;
            }
            figcaption {
              position: absolute;
              float: left;
              width: 100%;
              bottom: 0;
              background-color: inherit;
              overflow: hidden;
              white-space: nowrap;
            }
          }
        }
      }
    }
    [data-drop-target='out'] {
    }
    $z-gradient-list: (
      (0, gainsboro, dimgray),
      (1, lightgray, dimgray),
      (2, silver, dimgray),
      (3, darkgray, gainsboro),
      (4, gray, gainsboro),
      (5, dimgray, gainsboro),
      ('unknown', black, white)
    );
    @each $position, $background-color, $color in $z-gradient-list {
      [data-z-gradient='#{$position}'] {
        border: solid 1px $background-color;
        background-color: rgba($background-color, 0.8);
        color: $color;
      }
    }
  }
}
